import{d as x,r as _,l as I,g as m,e as l,w as d,f as T,aY as U,o as u,F as g,i as v,u as b,a as B,B as D,c as y}from"./index-DSC3Ms3s.js";import{a as F,F as E}from"./index-DP1lsub_.js";import{M as i,I as M}from"./index-Cl0MKicR.js";import{S as k,O as C}from"./index-Dx-HpozK.js";import{f as G,a as O,A as R,b as Y,g as L}from"./app-CW2kzm5L.js";import"./keyboard-DIWrcbmK.js";const $={id:"addAppPage"},j=T("h2",{style:{"margin-bottom":"32px"}},"创建应用",-1),W=x({__name:"AddAppPage",props:{id:{default:()=>""}},setup(V){const s=V,A=U(),e=_({appDesc:"",appIcon:"",appName:"",appType:0,scoringStrategy:0}),w=_(),P=async()=>{if(!s.id)return;const t=await L({id:s.id});t.data.code===0&&t.data.data?(w.value=t.data.data,e.value=t.data.data):i.error("获取数据失败，"+t.data.message)};I(()=>{P()});const N=async()=>{let t;s.id?t=await G({id:s.id,...e.value}):t=await O(e.value),t.data.code===0?(i.success("操作成功，即将跳转到应用详情页"),setTimeout(()=>{A.push(`/app/detail/${s.id||t.data.data}`)},3e3)):i.error("操作失败，"+t.data.message)};return(t,o)=>{const n=M,p=E,c=C,f=k,S=D,h=F;return u(),m("div",$,[j,l(h,{model:e.value,style:{width:"480px"},"label-align":"left","auto-label-width":"",onSubmit:N},{default:d(()=>[l(p,{field:"appName",label:"应用名称"},{default:d(()=>[l(n,{modelValue:e.value.appName,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value.appName=a),placeholder:"请输入应用名称"},null,8,["modelValue"])]),_:1}),l(p,{field:"appDesc",label:"应用描述"},{default:d(()=>[l(n,{modelValue:e.value.appDesc,"onUpdate:modelValue":o[1]||(o[1]=a=>e.value.appDesc=a),placeholder:"请输入应用描述"},null,8,["modelValue"])]),_:1}),l(p,{field:"appIcon",label:"应用图标"},{default:d(()=>[l(n,{modelValue:e.value.appIcon,"onUpdate:modelValue":o[2]||(o[2]=a=>e.value.appIcon=a),placeholder:"请输入应用图标"},null,8,["modelValue"])]),_:1}),l(p,{field:"appType",label:"应用类型"},{default:d(()=>[l(f,{modelValue:e.value.appType,"onUpdate:modelValue":o[3]||(o[3]=a=>e.value.appType=a),style:{width:"320px"},placeholder:"请选择应用类型"},{default:d(()=>[(u(!0),m(g,null,v(b(R),(a,r)=>(u(),y(c,{value:Number(r),label:a},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(p,{field:"scoringStrategy",label:"评分策略"},{default:d(()=>[l(f,{modelValue:e.value.scoringStrategy,"onUpdate:modelValue":o[4]||(o[4]=a=>e.value.scoringStrategy=a),style:{width:"320px"},placeholder:"请选择评分策略"},{default:d(()=>[(u(!0),m(g,null,v(b(Y),(a,r)=>(u(),y(c,{value:Number(r),label:a},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:d(()=>[l(S,{type:"primary","html-type":"submit",style:{width:"120px"}},{default:d(()=>[B(" 提交 ")]),_:1})]),_:1})]),_:1},8,["model"])])}}});export{W as default};
