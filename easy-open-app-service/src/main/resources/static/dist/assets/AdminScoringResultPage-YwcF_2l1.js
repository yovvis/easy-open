import{ay as x,d as h,r as c,c as q,w as l,o as U,e,a as m,B,l as te,g as ae,f as H,F as oe,b as w,t as O,u as A,C as ue,R as se,T as ne}from"./index-DSC3Ms3s.js";import{C as re}from"./index-C7m1n5xG.js";import"./index-Dx-HpozK.js";import{M as R,I as M}from"./index-Cl0MKicR.js";import{I as ie}from"./index-DbxXUXlj.js";import{T as de}from"./index-D5xu3zuE.js";import{I as pe}from"./index-CwNc2FHS.js";import{S as j}from"./index-DYJE_-5E.js";import{M as G,D as me}from"./index-C9PAZute.js";import{F as Y,a as $}from"./index-DP1lsub_.js";/* empty css              */import{d as L}from"./date-BOtkChFv.js";import"./keyboard-DIWrcbmK.js";async function ce(f,_){return x("/api/app/scoringResult/add",{method:"POST",headers:{"Content-Type":"application/json"},data:f})}async function fe(f,_){return x("/api/app/scoringResult/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:f})}async function _e(f,_){return x("/api/app/scoringResult/list/page",{method:"POST",headers:{"Content-Type":"application/json"},data:f})}async function ve(f,_){return x("/api/app/scoringResult/update",{method:"POST",headers:{"Content-Type":"application/json"},data:f})}const ge=h({__name:"ScoringResultAdd",props:{visible:{type:Boolean}},emits:["update:visible"],setup(f,{emit:_}){const a=c({resultName:"",resultDesc:"",resultPicture:null,resultProp:"",resultScoreRange:null,appId:null}),o=c(a.value),C=_,b={resultName:[{required:!0,message:"结果名称是必填项"}],resultDesc:[{required:!0,message:"结果描述是必填项"}],resultPicture:[{required:!0,type:"object",message:"结果图片是必填项"}],resultProp:[{required:!0,message:"结果属性集合是必填项"}],resultScoreRange:[{required:!0,message:"结果得分范围是必填项"}],appId:[{required:!0,message:"应用 id 是必填项"}]},V=()=>{C("update:visible",!1)},P=c(),S=async()=>{console.log("当前提交表单：",o);const n=await ce({...o.value,resultProp:o.value.resultProp.split(",")});n.data.code===0?(R.success("添加成功"),v(),V()):R.error("添加失败"),console.log("提交结果：",n)},v=()=>{o.value=a.value,P.value=null};return(n,u)=>{const r=M,p=Y,g=B,D=j,d=$,t=G;return U(),q(t,{footer:!1,visible:n.visible,title:"添加结果",onCancel:V},{default:l(()=>[e(d,{model:o.value,rules:b,onSubmit:S},{default:l(()=>[e(p,{field:"appId",label:"应用 id：","validate-trigger":"blur"},{default:l(()=>[e(r,{modelValue:o.value.appId,"onUpdate:modelValue":u[0]||(u[0]=i=>o.value.appId=i),placeholder:"请输入应用 id"},null,8,["modelValue"])]),_:1}),e(p,{field:"resultName",label:"结果名称：","validate-trigger":"blur"},{default:l(()=>[e(r,{modelValue:o.value.resultName,"onUpdate:modelValue":u[1]||(u[1]=i=>o.value.resultName=i),placeholder:"请输入结果名称"},null,8,["modelValue"])]),_:1}),e(p,{field:"resultDesc",label:"结果描述：","validate-trigger":"blur"},{default:l(()=>[e(r,{modelValue:o.value.resultDesc,"onUpdate:modelValue":u[2]||(u[2]=i=>o.value.resultDesc=i),placeholder:"请输入结果描述"},null,8,["modelValue"])]),_:1}),e(p,{field:"resultPicture",label:"结果图片："},{default:l(()=>[e(r,{modelValue:o.value.resultPicture,"onUpdate:modelValue":u[3]||(u[3]=i=>o.value.resultPicture=i),placeholder:"请输入结果图片链接"},null,8,["modelValue"])]),_:1}),e(p,{field:"resultProp",label:"结果属性集合：","validate-trigger":"blur"},{default:l(()=>[e(r,{modelValue:o.value.resultProp,"onUpdate:modelValue":u[4]||(u[4]=i=>o.value.resultProp=i),placeholder:"请输入结果属性集合"},null,8,["modelValue"])]),_:1}),e(p,{field:"resultScoreRange",label:"结果得分范围：","validate-trigger":"blur"},{default:l(()=>[e(r,{modelValue:o.value.resultScoreRange,"onUpdate:modelValue":u[5]||(u[5]=i=>o.value.resultScoreRange=i),placeholder:"请输入结果得分范围"},null,8,["modelValue"])]),_:1}),e(p,null,{default:l(()=>[e(D,null,{default:l(()=>[e(g,{onClick:V},{default:l(()=>[m("取消")]),_:1}),e(g,{type:"primary",onClick:S},{default:l(()=>[m("添加")]),_:1}),e(g,{onClick:v},{default:l(()=>[m("重置")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}}),be=h({__name:"ScoringResultEdit",props:{visible:{type:Boolean},scoringResult:{}},emits:["update:visible"],setup(f,{emit:_}){const a=c({...scoringResult,newPicture:null}),o=_,C={resultName:[{required:!0,message:"结果名称是必填项"}],resultDesc:[{required:!0,message:"结果描述是必填项"}],resultPicture:[{required:!0,type:"object",message:"结果图片是必填项"}],resultProp:[{required:!0,message:"结果属性集合是必填项"}],resultScoreRange:[{required:!0,message:"结果得分范围是必填项"}]},b=()=>{o("update:visible",!1)},V=c(),P=async()=>{console.log("当前提交表单：",a);const v=await ve({...a.value,resultProp:a.value.resultProp.split(",")});v.data.code===0?(R.success("修改成功"),S(),b()):R.error("修改失败"),console.log("提交结果：",v)},S=()=>{a.value=scoringResult,V.value=null};return(v,n)=>{const u=M,r=Y,p=B,g=j,D=$,d=G;return U(),q(d,{footer:!1,visible:v.visible,title:"修改结果",onCancel:b},{default:l(()=>[e(D,{model:a.value,rules:C,onSubmit:P},{default:l(()=>[e(r,{field:"id",label:"编号："},{default:l(()=>[e(u,{modelValue:a.value.id,"onUpdate:modelValue":n[0]||(n[0]=t=>a.value.id=t),value:v.scoringResult.id,disabled:""},null,8,["modelValue","value"])]),_:1}),e(r,{field:"resultName",label:"结果名称：","validate-trigger":"blur"},{default:l(()=>[e(u,{modelValue:a.value.resultName,"onUpdate:modelValue":n[1]||(n[1]=t=>a.value.resultName=t),placeholder:"请输入结果名称"},null,8,["modelValue"])]),_:1}),e(r,{field:"resultDesc",label:"结果描述：","validate-trigger":"blur"},{default:l(()=>[e(u,{modelValue:a.value.resultDesc,"onUpdate:modelValue":n[2]||(n[2]=t=>a.value.resultDesc=t),placeholder:"请输入结果描述"},null,8,["modelValue"])]),_:1}),e(r,{field:"resultPicture",label:"结果图片："},{default:l(()=>[e(u,{modelValue:a.value.resultPicture,"onUpdate:modelValue":n[3]||(n[3]=t=>a.value.resultPicture=t),placeholder:"请输入结果图片链接"},null,8,["modelValue"])]),_:1}),e(r,{field:"resultProp",label:"结果属性集合：","validate-trigger":"blur"},{default:l(()=>[e(u,{modelValue:a.value.resultProp,"onUpdate:modelValue":n[4]||(n[4]=t=>a.value.resultProp=t),placeholder:"请输入结果属性集合"},null,8,["modelValue"])]),_:1}),e(r,{field:"resultScoreRange",label:"结果得分范围：","validate-trigger":"blur"},{default:l(()=>[e(u,{modelValue:a.value.resultScoreRange,"onUpdate:modelValue":n[5]||(n[5]=t=>a.value.resultScoreRange=t),placeholder:"请输入结果得分范围"},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(g,null,{default:l(()=>[e(p,{onClick:b},{default:l(()=>[m("取消")]),_:1}),e(p,{type:"primary",onClick:P},{default:l(()=>[m("修改")]),_:1}),e(p,{onClick:S},{default:l(()=>[m("重置")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}}),Ve={id:"adminScoringResultPage"},he=h({__name:"AdminScoringResultPage",setup(f){const _={current:1,pageSize:7},a=c({}),o=c({..._}),C=c([]),b=c(0),V=async()=>{var t,i;const d=await _e(o.value);d.data.code===0?(C.value=((t=d.data.data)==null?void 0:t.records)||[],b.value=((i=d.data.data)==null?void 0:i.total)||0):R.error("获取数据失败，"+d.data.message)},P=()=>{o.value={..._,...a.value}},S=()=>{a.value={}},v=d=>{o.value={...o.value,current:d}};te(()=>{V()});const n=async d=>{if(!d.id)return;const t=await fe({id:d.id});t.data.code===0?(V(),R.success("删除成功")):R.error("删除数据失败，"+t.data.message)},u=[{title:"id",dataIndex:"id",ellipsis:!0,tooltip:!0,width:60},{title:"名称",dataIndex:"resultName"},{title:"描述",dataIndex:"resultDesc",ellipsis:!0,tooltip:!0},{title:"图片",dataIndex:"resultPicture",slotName:"resultPicture"},{title:"结果属性",dataIndex:"resultProp"},{title:"评分范围",dataIndex:"resultScoreRange"},{title:"应用 id",dataIndex:"appId"},{title:"用户 id",dataIndex:"userId"},{title:"创建时间",dataIndex:"createTime",slotName:"createTime"},{title:"更新时间",dataIndex:"updateTime",slotName:"updateTime"},{title:"操作",slotName:"optional"}],r=c(!1),p=c(!1),g=c({}),D=d=>{p.value=!0,g.value=d};return(d,t)=>{const i=M,T=Y,y=ue,z=ie,N=se,I=B,J=$,F=me,K=w("icon-search"),E=w("icon-refresh"),k=j,Q=w("icon-plus"),W=ne,X=pe,Z=de,ee=re;return U(),ae(oe,null,[H("div",Ve,[e(ee,{title:"评分列表"},{default:l(()=>[e(N,null,{default:l(()=>[e(y,{flex:2},{default:l(()=>[e(J,{"label-col-props":{span:5},model:a.value,"wrapper-col-props":{span:18},"label-align":"left",onSubmit:P},{default:l(()=>[e(N,{gutter:16},{default:l(()=>[e(y,{span:8},{default:l(()=>[e(T,{field:"resultName",label:"结果名称"},{default:l(()=>[e(i,{modelValue:a.value.resultName,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.resultName=s),"allow-clear":"",placeholder:"请输入结果名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(y,{span:8},{default:l(()=>[e(T,{field:"resultDesc",label:"结果描述"},{default:l(()=>[e(i,{modelValue:a.value.resultDesc,"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.resultDesc=s),"allow-clear":"",placeholder:"请输入结果描述"},null,8,["modelValue"])]),_:1})]),_:1}),e(y,{span:8},{default:l(()=>[e(T,{field:"appId",label:"应用 id"},{default:l(()=>[e(z,{modelValue:a.value.appId,"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.appId=s),"allow-clear":"","hide-button":"",placeholder:"请输入应用 id"},null,8,["modelValue"])]),_:1})]),_:1}),e(y,{span:8},{default:l(()=>[e(T,{field:"userId",label:"用户 id"},{default:l(()=>[e(z,{modelValue:a.value.userId,"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.userId=s),"allow-clear":"","hide-button":"",placeholder:"请输入用户 id"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(I,{"html-type":"submit",style:{display:"none"}})]),_:1},8,["model"])]),_:1}),e(F,{direction:"vertical",style:{height:"42px"}}),e(y,{flex:"86px",style:{"text-align":"right"}},{default:l(()=>[e(k,{size:18,direction:"horizontal"},{default:l(()=>[e(I,{type:"primary",onClick:P},{icon:l(()=>[e(K)]),default:l(()=>[m(" 查询 ")]),_:1}),e(I,{onClick:S},{icon:l(()=>[e(E)]),default:l(()=>[m(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{style:{"margin-top":"0"}}),e(N,{style:{"margin-bottom":"16px"}},{default:l(()=>[e(y,{span:12},{default:l(()=>[e(k,null,{default:l(()=>[e(I,{type:"primary",onClick:t[4]||(t[4]=s=>r.value=!0)},{icon:l(()=>[e(Q)]),default:l(()=>[m(" 新建 ")]),_:1})]),_:1})]),_:1}),e(y,{span:12,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:l(()=>[e(W,{content:"刷新"},{default:l(()=>[H("div",{class:"action-icon",onClick:P},[e(E,{size:"18"})])]),_:1})]),_:1})]),_:1}),e(Z,{columns:u,data:C.value,pagination:{showTotal:!0,pageSize:o.value.pageSize,current:o.value.current,total:b.value},onPageChange:v},{resultPicture:l(({record:s})=>[e(X,{src:s.resultPicture,width:"64"},null,8,["src"])]),createTime:l(({record:s})=>[m(O(A(L)(s.createTime).format("YYYY-MM-DD HH:mm:ss")),1)]),updateTime:l(({record:s})=>[m(O(A(L)(s.updateTime).format("YYYY-MM-DD HH:mm:ss")),1)]),optional:l(({record:s})=>[e(k,null,{default:l(()=>[e(I,{status:"danger",onClick:le=>n(s)},{default:l(()=>[m("删除")]),_:2},1032,["onClick"]),e(I,{onClick:le=>D(s)},{default:l(()=>[m("编辑")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["data","pagination"])]),_:1})]),e(ge,{visible:r.value,"onUpdate:visible":t[5]||(t[5]=s=>r.value=s)},null,8,["visible"]),(U(),q(be,{key:g.value.id,visible:p.value,"onUpdate:visible":t[6]||(t[6]=s=>p.value=s),scoringResult:g.value},null,8,["visible","scoringResult"]))],64)}}});export{he as default};
