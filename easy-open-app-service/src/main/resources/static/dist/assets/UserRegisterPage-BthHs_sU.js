import{d as h,aY as A,r as R,V as y,b as m,o as w,c as F,w as a,e,a as f,bm as B,B as U,b0 as v,b1 as P,f as r,_ as b,g as C,b2 as S,b3 as q}from"./index-DSC3Ms3s.js";import{F as z,a as N}from"./index-DP1lsub_.js";import{M as g,I as M,b as E}from"./index-Cl0MKicR.js";const G=t=>(v("data-v-1065a01d"),t=t(),P(),t),T=G(()=>r("div",{class:"login-form-title"},"欢迎注册",-1)),Y=h({__name:"RegisterForm",setup(t){const u=A(),n=R(),o=y({userAccount:"",userPassword:"",checkPassword:""}),x={userAccount:[{required:!0,message:"请输入账号/邮箱"}],userPassword:[{required:!0,message:"密码不能为空"},{match:/^(?![\d]+$)(?![a-z]+$)(?![A-Z]+$)(?![~!@#$%^&*.]+$)[\da-zA-z~!@#$%^&*.]{6,32}$|^11111$/,message:"密码格式不正确"}],checkPassword:[{required:!0,message:"请确认密码"},{validator:(l,s)=>{l!==o.userPassword?s("两次密码不一致"):s()}}]},k=()=>{n.value.validateField(["userAccount","userPassword","checkPassword"]).then(async l=>{if(l)return;const s=await B(o);s.data.code===0?(u.push({path:"/user/login"}),g.success("注册成功！")):g.error("注册失败，"+s.data.message)})};return(l,s)=>{const V=m("icon-user"),$=M,d=z,i=m("icon-lock"),_=E,p=U,I=N;return w(),F(I,{ref_key:"formRef",ref:n,class:"login-form-wrapper",layout:"vertical",model:o,rules:x},{default:a(()=>[T,e(d,{field:"userAccount","validate-trigger":"blur","hide-label":""},{default:a(()=>[e($,{modelValue:o.userAccount,"onUpdate:modelValue":s[0]||(s[0]=c=>o.userAccount=c),autocomplete:"userAccount",placeholder:"用户名"},{prefix:a(()=>[e(V)]),_:1},8,["modelValue"])]),_:1}),e(d,{field:"userPassword","validate-trigger":"blur","hide-label":""},{default:a(()=>[e(_,{modelValue:o.userPassword,"onUpdate:modelValue":s[1]||(s[1]=c=>o.userPassword=c),autocomplete:"current-password",placeholder:"请输入密码","allow-clear":""},{prefix:a(()=>[e(i)]),_:1},8,["modelValue"])]),_:1}),e(d,{field:"checkPassword","validate-trigger":"blur","hide-label":""},{default:a(()=>[e(_,{modelValue:o.checkPassword,"onUpdate:modelValue":s[2]||(s[2]=c=>o.checkPassword=c),autocomplete:"current-password",placeholder:"请确认密码","allow-clear":""},{prefix:a(()=>[e(i)]),_:1},8,["modelValue"])]),_:1}),e(p,{type:"primary",style:{margin:"15px 0 6px"},long:"",onClick:k},{default:a(()=>[f(" 注册 ")]),_:1}),e(p,{type:"text",long:"",class:"login-form-register-btn",href:"/user/login"},{default:a(()=>[f(" 已有账号？去登录 ")]),_:1})]),_:1},8,["model"])}}}),Z=b(Y,[["__scopeId","data-v-1065a01d"]]),j=t=>(v("data-v-3c708942"),t=t(),P(),t),D={class:"container"},H=j(()=>r("header",{class:"header"},[r("img",{src:S,class:"logo",style:{height:"55px"}}),r("div",{class:"header-text"},"轻享开放平台")],-1)),J={class:"content"},K={class:"footer"},L=h({__name:"UserRegisterPage",setup(t){return(u,n)=>{const o=q;return w(),C("div",D,[H,r("div",J,[e(Z)]),r("div",K,[e(o)])])}}}),X=b(L,[["__scopeId","data-v-3c708942"]]);export{X as default};
