import{r as g,s as h,y as se,X as ue,aC as Ve,x as Je,z as de,d as _,aD as Qe,av as Ye,aI as Ze,q as ce,E as W,N as et,aa as tt,b as B,o as E,g as L,e as c,w as G,f as U,n as S,F as Fe,J as I,h as H,af as ve,W as ot,a5 as nt,c as J,a as Q,t as ie,ac as Le,ad as He,a4 as at,V as Ue,bv as lt,L as rt,T as _e,b9 as st,bR as it,bS as pt,aQ as ye,K as q,a1 as ut,aX as De,$ as dt,a6 as Pe,ag as pe,bT as Ie,aN as Oe,aE as ct,a7 as ft,bU as vt}from"./index-DSC3Ms3s.js";import{I as yt,u as gt}from"./index-Cl0MKicR.js";const mt=({itemRef:e,selector:t,index:o,parentClassName:n})=>{const r=g(-1),i=h(()=>{var s;return(s=o==null?void 0:o.value)!=null?s:r.value}),a=g(),l=()=>{var s,u,C;let v=(u=(s=e.value)==null?void 0:s.parentElement)!=null?u:void 0;if(n)for(;v&&!v.className.includes(n);)v=(C=v.parentElement)!=null?C:void 0;return v},p=()=>{if(Je(o==null?void 0:o.value)&&a.value&&e.value){const s=Array.from(a.value.querySelectorAll(t)).indexOf(e.value);s!==r.value&&(r.value=s)}};return se(e,()=>{e.value&&!a.value&&(a.value=l())}),ue(()=>{e.value&&(a.value=l()),p()}),Ve(()=>p()),{computedIndex:i}},Me=Symbol("ArcoAvatarGroup");var ht=Object.defineProperty,ke=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,ze=(e,t,o)=>t in e?ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Be=(e,t)=>{for(var o in t||(t={}))Ct.call(t,o)&&ze(e,o,t[o]);if(ke)for(var o of ke(t))bt.call(t,o)&&ze(e,o,t[o]);return e};const wt=_({name:"Avatar",components:{ResizeObserver:Qe,IconImageClose:Ye,IconLoading:Ze},props:{shape:{type:String,default:"circle"},imageUrl:String,size:Number,autoFixFontSize:{type:Boolean,default:!0},triggerType:{type:String,default:"button"},triggerIconStyle:{type:Object},objectFit:{type:String}},emits:{click:e=>!0,error:()=>!0,load:()=>!0},setup(e,{slots:t,emit:o,attrs:n}){const{shape:r,size:i,autoFixFontSize:a,triggerType:l,triggerIconStyle:p}=ce(e),s=W("avatar"),u=et(Me,void 0),C=g(),v=g(),j=h(()=>{var f;return(f=u==null?void 0:u.shape)!=null?f:r.value}),w=h(()=>{var f;return(f=u==null?void 0:u.size)!=null?f:i.value}),b=h(()=>{var f;return(f=u==null?void 0:u.autoFixFontSize)!=null?f:a.value}),m=g(!1),T=g(!1),P=g(!0),O=g(!1),A=u?mt({itemRef:C,selector:`.${s}`}).computedIndex:g(-1),N=h(()=>{var f;const R=tt(w.value)?{width:`${w.value}px`,height:`${w.value}px`,fontSize:`${w.value/2}px`}:{};return u&&(R.zIndex=u.zIndexAscend?A.value+1:u.total-A.value,R.marginLeft=A.value!==0?`-${((f=w.value)!=null?f:40)/4}px`:"0"),R}),K=Tt({triggerIconStyle:p==null?void 0:p.value,inlineStyle:n.style,triggerType:l.value}),$=()=>{!m.value&&!e.imageUrl&&ot(()=>{var f;if(!v.value||!C.value)return;const R=v.value.clientWidth,X=(f=w.value)!=null?f:C.value.offsetWidth,ee=X/(R+8);X&&ee<1&&(v.value.style.transform=`scale(${ee}) translateX(-50%)`),P.value=!0})};ue(()=>{var f;(f=v.value)!=null&&f.firstElementChild&&["IMG","PICTURE"].includes(v.value.firstElementChild.tagName)&&(m.value=!0),b.value&&$()}),se(i,()=>{b.value&&$()});const k=h(()=>[s,`${s}-${j.value}`]),Y=h(()=>m.value||e.imageUrl?`${s}-image`:`${s}-text`);return{prefixCls:s,itemRef:C,cls:k,outerStyle:N,wrapperRef:v,wrapperCls:Y,computedTriggerIconStyle:K,isImage:m,shouldLoad:P,isLoaded:O,hasError:T,onClick:f=>{o("click",f)},handleResize:()=>{b.value&&$()},handleImgLoad:()=>{O.value=!0,o("load")},handleImgError:()=>{T.value=!0,o("error")}}}}),Tt=({triggerType:e,inlineStyle:t={},triggerIconStyle:o={}})=>{let n={};return e==="button"&&(!o||o&&!o.color)&&t&&t.backgroundColor&&(n={color:t.backgroundColor}),Be(Be({},o),n)},$t=["src"];function Et(e,t,o,n,r,i){const a=B("IconImageClose"),l=B("IconLoading"),p=B("resize-observer");return E(),L("div",{ref:"itemRef",style:ve(e.outerStyle),class:S([e.cls,{[`${e.prefixCls}-with-trigger-icon`]:!!e.$slots["trigger-icon"]}]),onClick:t[2]||(t[2]=(...s)=>e.onClick&&e.onClick(...s))},[c(p,{onResize:e.handleResize},{default:G(()=>[U("span",{ref:"wrapperRef",class:S(e.wrapperCls)},[e.imageUrl?(E(),L(Fe,{key:0},[e.hasError?I(e.$slots,"error",{key:0},()=>[U("div",{class:S(`${e.prefixCls}-image-icon`)},[c(a)],2)]):H("v-if",!0),!(e.hasError||!e.shouldLoad)&&!e.isLoaded?I(e.$slots,"default",{key:1},()=>[U("div",{class:S(`${e.prefixCls}-image-icon`)},[c(l)],2)]):H("v-if",!0),e.hasError||!e.shouldLoad?H("v-if",!0):(E(),L("img",{key:2,src:e.imageUrl,style:ve({width:e.size+"px",height:e.size+"px",objectFit:e.objectFit}),alt:"avatar",onLoad:t[0]||(t[0]=(...s)=>e.handleImgLoad&&e.handleImgLoad(...s)),onError:t[1]||(t[1]=(...s)=>e.handleImgError&&e.handleImgError(...s))},null,44,$t))],64)):I(e.$slots,"default",{key:1})],2)]),_:3},8,["onResize"]),e.$slots["trigger-icon"]?(E(),L("div",{key:0,class:S(`${e.prefixCls}-trigger-icon-${e.triggerType}`),style:ve(e.computedTriggerIconStyle)},[I(e.$slots,"trigger-icon")],6)):H("v-if",!0)],6)}var re=de(wt,[["render",Et]]);const St=_({name:"Popover",components:{Trigger:nt},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},title:String,content:String,trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"top"},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:t}){const o=W("popover"),n=g(e.defaultPopupVisible),r=h(()=>{var p;return(p=e.popupVisible)!=null?p:n.value}),i=p=>{n.value=p,t("update:popupVisible",p),t("popupVisibleChange",p)},a=h(()=>[`${o}-popup-content`,e.contentClass]),l=h(()=>[`${o}-popup-arrow`,e.arrowClass]);return{prefixCls:o,computedPopupVisible:r,contentCls:a,arrowCls:l,handlePopupVisibleChange:i}}});function xt(e,t,o,n,r,i){const a=B("trigger");return E(),J(a,{class:S(e.prefixCls),trigger:e.trigger,position:e.position,"popup-visible":e.computedPopupVisible,"popup-offset":10,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"show-arrow":"","popup-container":e.popupContainer,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:G(()=>[U("div",{class:S(`${e.prefixCls}-title`)},[I(e.$slots,"title",{},()=>[Q(ie(e.title),1)])],2),U("div",{class:S(`${e.prefixCls}-content`)},[I(e.$slots,"content",{},()=>[Q(ie(e.content),1)])],2)]),default:G(()=>[I(e.$slots,"default")]),_:3},8,["class","trigger","position","popup-visible","content-class","content-style","arrow-class","arrow-style","popup-container","onPopupVisibleChange"])}var ge=de(St,[["render",xt]]);const Ge=Object.assign(ge,{install:(e,t)=>{Le(e,t);const o=He(t);e.component(o+ge.name,ge)}}),me=_({name:"AvatarGroup",props:{shape:{type:String,default:"circle"},size:Number,autoFixFontSize:{type:Boolean,default:!0},maxCount:{type:Number,default:0},zIndexAscend:{type:Boolean,default:!1},maxStyle:{type:Object},maxPopoverTriggerProps:{type:Object}},setup(e,{slots:t}){const{shape:o,size:n,autoFixFontSize:r,zIndexAscend:i}=ce(e),a=W("avatar-group"),l=g(0);return at(Me,Ue({shape:o,size:n,autoFixFontSize:r,zIndexAscend:i,total:l})),()=>{var p,s;const u=lt((s=(p=t.default)==null?void 0:p.call(t))!=null?s:[]),C=e.maxCount>0?u.slice(0,e.maxCount):u,v=e.maxCount>0?u.slice(e.maxCount):[];return l.value!==u.length&&(l.value=u.length),c("div",{class:a},[C,v.length>0&&c(Ge,e.maxPopoverTriggerProps,{default:()=>[c(re,{class:`${a}-max-count-avatar`,style:e.maxStyle},{default:()=>[Q("+"),v.length]})],content:()=>c("div",null,[v])})])}}}),Kt=Object.assign(re,{Group:me,install:(e,t)=>{Le(e,t);const o=He(t);e.component(o+re.name,re),e.component(o+me.name,me)}}),Pt=_({name:"TypographyEditContent",components:{Input:yt},props:{text:{type:String,required:!0}},emits:["change","end","update:text"],setup(e,{emit:t}){const n=[`${W("typography")}-edit-content`],r=g();function i(l){t("update:text",l),t("change",l)}function a(){t("end")}return ue(()=>{if(!r.value||!r.value.$el)return;const l=r.value.$el.querySelector("input");if(!l)return;l.focus&&l.focus();const{length:p}=l.value;l.setSelectionRange(p,p)}),{classNames:n,inputRef:r,onBlur:a,onChange:i,onEnd:a}}});function It(e,t,o,n,r,i){const a=B("Input");return E(),L("div",{class:S(e.classNames)},[c(a,{ref:"inputRef","auto-size":"","model-value":e.text,onBlur:e.onBlur,onInput:e.onChange,onKeydown:rt(e.onEnd,["enter"])},null,8,["model-value","onBlur","onInput","onKeydown"])],2)}var Ot=de(Pt,[["render",It]]);const kt=_({name:"TypographyOperations",components:{Tooltip:_e,IconCheckCircleFill:st,IconCopy:it,IconEdit:pt},props:{editable:Boolean,copyable:Boolean,expandable:Boolean,isCopied:Boolean,isEllipsis:Boolean,expanded:Boolean,forceRenderExpand:Boolean,editTooltipProps:Object,copyTooltipProps:Object},emits:{edit:()=>!0,copy:()=>!0,expand:()=>!0},setup(e,{emit:t}){const o=W("typography"),n=h(()=>e.forceRenderExpand||e.expandable&&e.isEllipsis),{t:r}=gt();return{prefixCls:o,showExpand:n,t:r,onEditClick(){t("edit")},onCopyClick(){t("copy")},onExpandClick(){t("expand")}}}});function zt(e,t,o,n,r,i){const a=B("IconEdit"),l=B("Tooltip"),p=B("IconCheckCircleFill"),s=B("IconCopy");return E(),L(Fe,null,[e.editable?(E(),J(l,q({key:0,content:e.t("typography.edit")},e.editTooltipProps),{default:G(()=>[U("span",{class:S(`${e.prefixCls}-operation-edit`),onClick:t[0]||(t[0]=ye((...u)=>e.onEditClick&&e.onEditClick(...u),["stop"]))},[c(a)],2)]),_:1},16,["content"])):H("v-if",!0),e.copyable?(E(),J(l,ut(q({key:1},e.copyTooltipProps)),{content:G(()=>[I(e.$slots,"copy-tooltip",{copied:e.isCopied},()=>[Q(ie(e.isCopied?e.t("typography.copied"):e.t("typography.copy")),1)])]),default:G(()=>[U("span",{class:S({[`${e.prefixCls}-operation-copied`]:e.isCopied,[`${e.prefixCls}-operation-copy`]:!e.isCopied}),onClick:t[1]||(t[1]=ye((...u)=>e.onCopyClick&&e.onCopyClick(...u),["stop"]))},[I(e.$slots,"copy-icon",{copied:e.isCopied},()=>[e.isCopied?(E(),J(p,{key:0})):(E(),J(s,{key:1}))])],2)]),_:3},16)):H("v-if",!0),e.showExpand?(E(),L("a",{key:2,class:S(`${e.prefixCls}-operation-expand`),onClick:t[2]||(t[2]=ye((...u)=>e.onExpandClick&&e.onExpandClick(...u),["stop"]))},[I(e.$slots,"expand-node",{expanded:e.expanded},()=>[Q(ie(e.expanded?e.t("typography.collapse"):e.t("typography.expand")),1)])],2)):H("v-if",!0)],64)}var je=de(kt,[["render",zt]]);let y;function Bt(e){return Array.prototype.slice.apply(e).map(o=>`${o}: ${e.getPropertyValue(o)};`).join("")}function he(e){if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}var jt=(e,t,o,n)=>{y||(y=document.createElement("div"),document.body.appendChild(y));const{rows:r,suffix:i,ellipsisStr:a}=t,l=window.getComputedStyle(e),p=Bt(l),s=he(l.lineHeight),u=Math.round(s*r+he(l.paddingTop)+he(l.paddingBottom));y.setAttribute("style",p),y.setAttribute("aria-hidden","true"),y.style.height="auto",y.style.minHeight="auto",y.style.maxHeight="auto",y.style.position="fixed",y.style.left="0",y.style.top="-99999999px",y.style.zIndex="-200",y.style.whiteSpace="normal";const C=De({render(){return c("span",null,[o])}});C.mount(y);const v=Array.prototype.slice.apply(y.childNodes[0].cloneNode(!0).childNodes);C.unmount(),y.innerHTML="";const j=document.createTextNode(`${a}${i}`);y.appendChild(j),v.forEach(T=>{y.appendChild(T)});const w=document.createTextNode(n);y.insertBefore(w,j);function b(){return y.offsetHeight<=u}if(b())return{ellipsis:!1,text:n};function m(T,P=0,O=n.length,A=0){const N=Math.floor((P+O)/2),K=n.slice(0,N);if(T.textContent=K,P>=O-1)for(let $=O;$>=P;$-=1){const k=n.slice(0,$);if(T.textContent=k,b()||!k)return}b()?m(T,N,O,N):m(T,P,N,A)}return m(w),{text:w.textContent,ellipsis:!0}};const At=async e=>{var t;if((t=navigator.clipboard)!=null&&t.writeText)try{await navigator.clipboard.writeText(e);return}catch(i){console.error(i??new DOMException("The request is not allowed","NotAllowedError"))}const o=document.createElement("span");o.textContent=e,o.style.whiteSpace="pre",document.body.appendChild(o);const n=window.getSelection(),r=window.document.createRange();n==null||n.removeAllRanges(),r.selectNode(o),n==null||n.addRange(r);try{window.document.execCommand("copy")}catch(i){console.error(`execCommand Error: ${i}`)}n==null||n.removeAllRanges(),window.document.body.removeChild(o)};let M;function Nt(e){if(!e)return"";M||(M=document.createElement("div"),M.setAttribute("aria-hidden","true"),document.body.appendChild(M));const t=De({render(){return c("div",null,[e])}});t.mount(M);const o=M.innerText;return t.unmount(),o}var Rt=Object.defineProperty,Vt=Object.defineProperties,Ft=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,Ne=(e,t,o)=>t in e?Rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Ut=(e,t)=>{for(var o in t||(t={}))Lt.call(t,o)&&Ne(e,o,t[o]);if(Ae)for(var o of Ae(t))Ht.call(t,o)&&Ne(e,o,t[o]);return e},_t=(e,t)=>Vt(e,Ft(t));function qe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ct(e)}function Dt(e){const{bold:t,mark:o,underline:n,delete:r,code:i}=e,a=[];return t&&a.push("b"),n&&a.push("u"),r&&a.push("del"),i&&a.push("code"),o&&a.push("mark"),a}function Re(e,t){const{mark:o}=e,n=Dt(e),r=pe(o)&&o.color?{backgroundColor:o.color}:{};return n.reduce((i,a)=>c(a,a==="mark"?{style:r}:{},qe(i)?i:{default:()=>[i]}),t)}function Mt(e){const t=!!e.showTooltip,o=pe(e.showTooltip)&&e.showTooltip.type==="popover"?Ge:_e,n=pe(e.showTooltip)&&e.showTooltip.props||{};return _t(Ut({rows:1,suffix:"",ellipsisStr:"...",expandable:!1,css:!1},ft(e,["showTooltip"])),{showTooltip:t,TooltipComponent:o,tooltipProps:n})}var Gt=_({name:"TypographyBase",inheritAttrs:!1,props:{component:{type:String,required:!0},type:{type:String},bold:{type:Boolean},mark:{type:[Boolean,Object],default:!1},underline:{type:Boolean},delete:{type:Boolean},code:{type:Boolean},disabled:{type:Boolean},editable:{type:Boolean},editing:{type:Boolean,default:void 0},defaultEditing:{type:Boolean},editText:{type:String},copyable:{type:Boolean},copyText:{type:String},copyDelay:{type:Number,default:3e3},ellipsis:{type:[Boolean,Object],default:!1},editTooltipProps:{type:Object},copyTooltipProps:{type:Object}},emits:{editStart:()=>!0,change:e=>!0,"update:editText":e=>!0,editEnd:()=>!0,"update:editing":e=>!0,copy:e=>!0,ellipsis:e=>!0,expand:e=>!0},setup(e,{slots:t,emit:o,attrs:n}){const{editing:r,defaultEditing:i,ellipsis:a,copyable:l,editable:p,copyText:s,editText:u,copyDelay:C,component:v}=ce(e),j=W("typography"),w=h(()=>[j,{[`${j}-${e.type}`]:e.type,[`${j}-disabled`]:e.disabled}]),b=g(),m=g(""),[T,P]=dt(i.value,Ue({value:r})),O=h(()=>p.value&&T.value);function A(){o("update:editing",!0),o("editStart"),P(!0)}function N(d){o("update:editText",d),o("change",d)}function K(){T.value&&(o("update:editing",!1),o("editEnd"),P(!1))}const $=g(!1);let k=null;function Y(){var d;const V=(d=s.value)!=null?d:m.value;At(V||""),$.value=!0,o("copy",V),k=setTimeout(()=>{$.value=!1},C.value)}Pe(()=>{k&&clearTimeout(k),k=null});const D=g(!1),z=g(!1),Z=g(""),x=h(()=>Mt(pe(a.value)&&a.value||{}));let f=null;function R(){const d=!z.value;z.value=d,o("expand",d)}function X(d=!1){return x.value.css?c(je,{editable:p.value,copyable:l.value,expandable:x.value.expandable,isCopied:$.value,isEllipsis:ne.value,expanded:z.value,forceRenderExpand:d||z.value,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:A,onCopy:Y,onExpand:R},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]}):c(je,{editable:p.value,copyable:l.value,expandable:x.value.expandable,isCopied:$.value,isEllipsis:D.value,expanded:z.value,forceRenderExpand:d,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:A,onCopy:Y,onExpand:R},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]})}function ee(){if(!b.value)return;const{ellipsis:d,text:V}=jt(b.value,x.value,X(!!x.value.expandable),m.value);D.value!==d&&(D.value=d,x.value.css||o("ellipsis",d)),Z.value!==V&&(Z.value=V||"")}function te(){a.value&&!z.value&&(Ie(f),f=vt(()=>{ee()}))}Pe(()=>{Ie(f)}),se(()=>x.value.rows,()=>{te()}),se(a,d=>{d?te():D.value=!1});let oe=[];const Ce=()=>{if(a.value||l.value||p.value){const d=Nt(oe);d!==m.value&&(m.value=d,te())}};ue(Ce),Ve(Ce);const fe=g(),ne=g(!1),be=()=>{if(b.value&&fe.value){const d=fe.value.offsetHeight>b.value.offsetHeight;d!==ne.value&&(ne.value=d,o("ellipsis",d))}},We=h(()=>z.value?{}:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":x.value.rows,"-webkit-box-orient":"vertical"});return()=>{var d,V;if(oe=((d=t.default)==null?void 0:d.call(t))||[],O.value){const le=(V=u.value)!=null?V:m.value;return c(Ot,{text:le,onChange:F=>{F!==le&&N(F)},onEnd:K},null)}const{suffix:Ke,ellipsisStr:Xe,showTooltip:we,tooltipProps:Te,TooltipComponent:$e}=x.value,ae=D.value&&!z.value,Ee=ae&&!we?{title:m.value}:{},Se=v.value;if(x.value.css){const le=Re(e,oe),F=c(Se,q({class:w.value,ref:b,style:We.value},Ee,n),{default:()=>[c("span",{ref:fe},[le])]});return ne.value?c($e,q(Te,{onResize:()=>be()}),{default:()=>[F],content:()=>m.value}):c(Oe,{onResize:()=>{be()}},qe(F)?F:{default:()=>[F]})}const xe=Re(e,ae?Z.value:oe);return c(Oe,{onResize:()=>te()},{default:()=>[c(Se,q({class:w.value,ref:b},Ee,n),{default:()=>[ae&&we?c($e,Te,{default:()=>[c("span",null,[xe])],content:()=>m.value}):xe,ae?Xe:null,Ke,X()]})]})}}}),Xt=_({name:"TypographyText",inheritAttrs:!1,props:{ellipsis:{type:[Boolean,Object],default:!1}},setup(e){const{ellipsis:t}=ce(e);return{component:h(()=>t!=null&&t.value?"div":"span")}},render(){const{ellipsis:e,component:t}=this;return c(Gt,q(this.$attrs,{ellipsis:e,component:t}),this.$slots)}});export{Kt as A,Xt as T,mt as u};
