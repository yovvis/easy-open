import{d as j,q as pe,E as A,r as V,A as Me,D as ve,s as g,aa as N,y as T,e as d,x as Be,aS as Oe,aR as Ie,F as ge,aJ as Ve,B as ie,al as Ee,ac as be,ad as he,z as U,o as w,g as E,J as L,a as ye,t as ee,n as _,af as je,P as Ae,Q as Fe,b as K,c as H,w as Re,bq as De,bx as qe,h as Q,f as se,W as Te,K as q,V as Le}from"./index-DSC3Ms3s.js";import{I as Ke,u as ne}from"./index-Cl0MKicR.js";import{g as Je,K as oe}from"./keyboard-DIWrcbmK.js";import{S as Ue}from"./index-Dx-HpozK.js";function le(e,a){return a===void 0&&(a=15),+parseFloat(Number(e).toPrecision(a))}function x(e){var a=e.toString().split(/[eE]/),t=(a[0].split(".")[1]||"").length-+(a[1]||0);return t>0?t:0}function J(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var a=x(e);return a>0?le(Number(e)*Math.pow(10,a)):Number(e)}function ae(e){Ce&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function Y(e){return function(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var l=a[0],s=a.slice(1);return s.reduce(function(m,r){return e(m,r)},l)}}var O=Y(function(e,a){var t=J(e),l=J(a),s=x(e)+x(a),m=t*l;return ae(m),m/Math.pow(10,s)}),We=Y(function(e,a){var t=Math.pow(10,Math.max(x(e),x(a)));return(O(e,t)+O(a,t))/t}),Ge=Y(function(e,a){var t=Math.pow(10,Math.max(x(e),x(a)));return(O(e,t)-O(a,t))/t}),Se=Y(function(e,a){var t=J(e),l=J(a);return ae(t),ae(l),O(t/l,le(Math.pow(10,x(a)-x(e))))});function Ye(e,a){var t=Math.pow(10,a),l=Se(Math.round(Math.abs(O(e,t))),t);return e<0&&l!==0&&(l=O(l,-1)),l}var Ce=!0;function He(e){e===void 0&&(e=!0),Ce=e}var te={strip:le,plus:We,minus:Ge,times:O,divide:Se,round:Ye,digitLength:x,float2Fixed:J,enableBoundaryChecking:He},Qe=Object.defineProperty,de=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,ce=(e,a,t)=>a in e?Qe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ea=(e,a)=>{for(var t in a||(a={}))Xe.call(a,t)&&ce(e,t,a[t]);if(de)for(var t of de(a))Ze.call(a,t)&&ce(e,t,a[t]);return e};const aa=800,ta=150;te.enableBoundaryChecking(!1);var X=j({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1},inputAttrs:{type:Object}},emits:{"update:modelValue":e=>!0,change:(e,a)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,a,t)=>!0},setup(e,{emit:a,slots:t}){var l;const{size:s,disabled:m}=pe(e),r=A("input-number"),b=V(),{mergedSize:z,mergedDisabled:y,eventHandlers:F}=Me({size:s,disabled:m}),{mergedSize:I}=ve(z),v=g(()=>{if(N(e.precision)){const n=`${e.step}`.split(".")[1],i=n&&n.length||0;return Math.max(i,e.precision)}}),M=n=>{var i,o;if(!N(n))return"";const C=v.value?n.toFixed(v.value):String(n);return(o=(i=e.formatter)==null?void 0:i.call(e,C))!=null?o:C},c=V(M((l=e.modelValue)!=null?l:e.defaultValue)),p=g(()=>{var n,i;if(!c.value)return;const o=Number((i=(n=e.parser)==null?void 0:n.call(e,c.value))!=null?i:c.value);return Number.isNaN(o)?void 0:o}),B=V(N(p.value)&&p.value<=e.min),$=V(N(p.value)&&p.value>=e.max);let h=0;const P=()=>{h&&(window.clearTimeout(h),h=0)},W=n=>{if(!Be(n))return N(e.min)&&n<e.min&&(n=e.min),N(e.max)&&n>e.max&&(n=e.max),N(v.value)?te.round(n,v.value):n},R=n=>{let i=!1,o=!1;N(n)&&(n<=e.min&&(i=!0),n>=e.max&&(o=!0)),$.value!==o&&($.value=o),B.value!==i&&(B.value=i)},u=()=>{const n=W(p.value),i=M(n);(n!==p.value||c.value!==i)&&(c.value=i),a("update:modelValue",n)};T(()=>[e.max,e.min],()=>{u(),R(p.value)});const f=(n,i)=>{if(y.value||n==="plus"&&$.value||n==="minus"&&B.value)return;let o;N(p.value)?o=W(te[n](p.value,e.step)):o=e.min===-1/0?0:e.min,c.value=M(o),R(o),a("update:modelValue",o),a("change",o,i)},S=(n,i,o=!1)=>{var C;n.preventDefault(),(C=b.value)==null||C.focus(),f(i,n),o&&(h=window.setTimeout(()=>n.target.dispatchEvent(n),h?ta:aa))},k=(n,i)=>{var o,C,ue,re;n=n.trim().replace(/ã€‚/g,"."),n=(C=(o=e.parser)==null?void 0:o.call(e,n))!=null?C:n,(N(Number(n))||/^(\.|-)$/.test(n))&&(c.value=(re=(ue=e.formatter)==null?void 0:ue.call(e,n))!=null?re:n,R(p.value),a("input",p.value,c.value,i),e.modelEvent==="input"&&(a("update:modelValue",p.value),a("change",p.value,i)))},G=n=>{a("focus",n)},D=(n,i)=>{i instanceof MouseEvent&&!n||(u(),a("change",p.value,i))},Ne=n=>{a("blur",n)},ze=n=>{var i,o;c.value="",a("update:modelValue",void 0),a("change",void 0,n),(o=(i=F.value)==null?void 0:i.onChange)==null||o.call(i,n),a("clear",n)},Pe=Je(new Map([[oe.ARROW_UP,n=>{n.preventDefault(),!e.readOnly&&f("plus",n)}],[oe.ARROW_DOWN,n=>{n.preventDefault(),!e.readOnly&&f("minus",n)}]]));T(()=>e.modelValue,n=>{n!==p.value&&(c.value=M(n),R(n))});const _e=()=>{var n,i,o;return e.readOnly?null:d(ge,null,[t.suffix&&d("div",{class:`${r}-suffix`},[(n=t.suffix)==null?void 0:n.call(t)]),d("div",{class:`${r}-step`},[d("button",{class:[`${r}-step-button`,{[`${r}-step-button-disabled`]:y.value||$.value}],type:"button",tabindex:"-1",disabled:y.value||$.value,onMousedown:C=>S(C,"plus",!0),onMouseup:P,onMouseleave:P},[t.plus?(i=t.plus)==null?void 0:i.call(t):d(Oe,null,null)]),d("button",{class:[`${r}-step-button`,{[`${r}-step-button-disabled`]:y.value||B.value}],type:"button",tabindex:"-1",disabled:y.value||B.value,onMousedown:C=>S(C,"minus",!0),onMouseup:P,onMouseleave:P},[t.minus?(o=t.minus)==null?void 0:o.call(t):d(Ie,null,null)])])])},we=g(()=>[r,`${r}-mode-${e.mode}`,`${r}-size-${I.value}`,{[`${r}-readonly`]:e.readOnly}]),xe=()=>d(ie,{size:I.value,tabindex:"-1",class:`${r}-step-button`,disabled:y.value||B.value,onMousedown:n=>S(n,"minus",!0),onMouseup:P,onMouseleave:P},{icon:()=>d(Ve,null,null)}),ke=()=>d(ie,{size:I.value,tabindex:"-1",class:`${r}-step-button`,disabled:y.value||$.value,onMousedown:n=>S(n,"plus",!0),onMouseup:P,onMouseleave:P},{icon:()=>d(Ee,null,null)});return{inputRef:b,render:()=>{const n=e.mode==="embed"?{prepend:t.prepend,prefix:t.prefix,suffix:e.hideButton?t.suffix:_e,append:t.append}:{prepend:e.hideButton?t.prepend:xe,prefix:t.prefix,suffix:t.suffix,append:e.hideButton?t.append:ke};return d(Ke,{key:`__arco__${e.mode}`,ref:b,class:we.value,type:"text",allowClear:e.allowClear,size:I.value,modelValue:c.value,placeholder:e.placeholder,disabled:y.value,readonly:e.readOnly,error:e.error,inputAttrs:ea({role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":c.value},e.inputAttrs),onInput:k,onFocus:G,onBlur:Ne,onClear:ze,onChange:D,onKeydown:Pe},n)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const na=Object.assign(X,{install:(e,a)=>{be(e,a);const t=he(a);e.component(t+X.name,X)}}),la=j({name:"Pager",props:{pageNumber:{type:Number},current:{type:Number},disabled:{type:Boolean,default:!1},style:{type:Object},activeStyle:{type:Object}},emits:["click"],setup(e,{emit:a}){const t=A("pagination-item"),l=g(()=>e.current===e.pageNumber),s=b=>{e.disabled||a("click",e.pageNumber,b)},m=g(()=>[t,{[`${t}-active`]:l.value}]),r=g(()=>l.value?e.activeStyle:e.style);return{prefixCls:t,cls:m,mergedStyle:r,handleClick:s}}});function ua(e,a,t,l,s,m){return w(),E("li",{class:_(e.cls),style:je(e.mergedStyle),onClick:a[0]||(a[0]=(...r)=>e.handleClick&&e.handleClick(...r))},[L(e.$slots,"default",{page:e.pageNumber},()=>[ye(ee(e.pageNumber),1)])],6)}var ra=U(la,[["render",ua]]);const $e=(e,{min:a,max:t})=>e<a?a:e>t?t:e,ia=j({name:"StepPager",components:{IconLeft:Ae,IconRight:Fe},props:{pages:{type:Number,required:!0},current:{type:Number,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:a}){const t=A("pagination-item"),l=e.type==="next",s=g(()=>e.disabled?e.disabled:!e.pages||l&&e.current===e.pages?!0:!l&&e.current<=1),m=g(()=>$e(e.current+(l?1:-1),{min:1,max:e.pages})),r=z=>{s.value||a("click",m.value)},b=g(()=>[t,`${t}-${e.type}`,{[`${t}-disabled`]:s.value}]);return{prefixCls:t,cls:b,isNext:l,handleClick:r}}});function sa(e,a,t,l,s,m){const r=K("icon-right"),b=K("icon-left");return w(),H(De(e.simple?"span":"li"),{class:_(e.cls),onClick:e.handleClick},{default:Re(()=>[L(e.$slots,"default",{type:e.isNext?"next":"previous"},()=>[e.isNext?(w(),H(r,{key:0})):(w(),H(b,{key:1}))])]),_:3},8,["class","onClick"])}var fe=U(ia,[["render",sa]]);const oa=j({name:"EllipsisPager",components:{IconMore:qe},props:{current:{type:Number,required:!0},step:{type:Number,default:5},pages:{type:Number,required:!0}},emits:["click"],setup(e,{emit:a}){const t=A("pagination-item"),l=g(()=>$e(e.current+e.step,{min:1,max:e.pages})),s=r=>{a("click",l.value)},m=g(()=>[t,`${t}-ellipsis`]);return{prefixCls:t,cls:m,handleClick:s}}});function da(e,a,t,l,s,m){const r=K("icon-more");return w(),E("li",{class:_(e.cls),onClick:a[0]||(a[0]=(...b)=>e.handleClick&&e.handleClick(...b))},[L(e.$slots,"default",{},()=>[d(r)])],2)}var ca=U(oa,[["render",da]]);const fa=j({name:"PageJumper",components:{InputNumber:na},props:{current:{type:Number,required:!0},simple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},pages:{type:Number,required:!0},size:{type:String},onChange:{type:Function}},emits:["change"],setup(e,{emit:a}){const t=A("pagination-jumper"),{t:l}=ne(),s=V(e.simple?e.current:void 0),m=z=>{const y=parseInt(z.toString(),10);return Number.isNaN(y)?void 0:String(y)},r=z=>{a("change",s.value),Te(()=>{e.simple||(s.value=void 0)})};T(()=>e.current,z=>{e.simple&&z!==s.value&&(s.value=z)});const b=g(()=>[t,{[`${t}-simple`]:e.simple}]);return{prefixCls:t,cls:b,t:l,inputValue:s,handleChange:r,handleFormatter:m}}});function ma(e,a,t,l,s,m){const r=K("input-number");return w(),E("span",{class:_(e.cls)},[e.simple?Q("v-if",!0):(w(),E("span",{key:0,class:_([`${e.prefixCls}-prepend`,`${e.prefixCls}-text-goto`])},[L(e.$slots,"jumper-prepend",{},()=>[ye(ee(e.t("pagination.goto")),1)])],2)),d(r,{modelValue:e.inputValue,"onUpdate:modelValue":a[0]||(a[0]=b=>e.inputValue=b),class:_(`${e.prefixCls}-input`),min:1,max:e.pages,size:e.size,disabled:e.disabled,"hide-button":"",formatter:e.handleFormatter,onChange:e.handleChange},null,8,["modelValue","class","max","size","disabled","formatter","onChange"]),e.$slots["jumper-append"]?(w(),E("span",{key:1,class:_(`${e.prefixCls}-append`)},[L(e.$slots,"jumper-append")],2)):Q("v-if",!0),e.simple?(w(),E(ge,{key:2},[se("span",{class:_(`${e.prefixCls}-separator`)},"/",2),se("span",{class:_(`${e.prefixCls}-total-page`)},ee(e.pages),3)],64)):Q("v-if",!0)],2)}var me=U(fa,[["render",ma]]);const pa=j({name:"PageOptions",components:{ArcoSelect:Ue},props:{sizeOptions:{type:Array,required:!0},pageSize:Number,disabled:Boolean,size:{type:String},onChange:{type:Function},selectProps:{type:Object}},emits:["change"],setup(e,{emit:a}){const t=A("pagination-options"),{t:l}=ne(),s=g(()=>e.sizeOptions.map(r=>({value:r,label:`${r} ${l("pagination.countPerPage")}`})));return{prefixCls:t,options:s,handleChange:r=>{a("change",r)}}}});function va(e,a,t,l,s,m){const r=K("arco-select");return w(),E("span",{class:_(e.prefixCls)},[d(r,q({"model-value":e.pageSize,options:e.options,size:e.size,disabled:e.disabled},e.selectProps,{onChange:e.handleChange}),null,16,["model-value","options","size","disabled","onChange"])],2)}var ga=U(pa,[["render",va]]),Z=j({name:"Pagination",props:{total:{type:Number,required:!0},current:Number,defaultCurrent:{type:Number,default:1},pageSize:Number,defaultPageSize:{type:Number,default:10},disabled:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showMore:{type:Boolean,default:!1},showJumper:{type:Boolean,default:!1},showPageSize:{type:Boolean,default:!1},pageSizeOptions:{type:Array,default:()=>[10,20,30,40,50]},pageSizeProps:{type:Object},size:{type:String},pageItemStyle:{type:Object},activePageItemStyle:{type:Object},baseSize:{type:Number,default:6},bufferSize:{type:Number,default:2},autoAdjust:{type:Boolean,default:!0}},emits:{"update:current":e=>!0,"update:pageSize":e=>!0,change:e=>!0,pageSizeChange:e=>!0},setup(e,{emit:a,slots:t}){const l=A("pagination"),{t:s}=ne(),{disabled:m,pageItemStyle:r,activePageItemStyle:b,size:z}=pe(e),{mergedSize:y}=ve(z),F=V(e.defaultCurrent),I=V(e.defaultPageSize),v=g(()=>{var u;return(u=e.current)!=null?u:F.value}),M=g(()=>{var u;return(u=e.pageSize)!=null?u:I.value}),c=g(()=>Math.ceil(e.total/M.value)),p=u=>{u!==v.value&&N(u)&&!e.disabled&&(F.value=u,a("update:current",u),a("change",u))},B=u=>{I.value=u,a("update:pageSize",u),a("pageSizeChange",u)},$=Le({current:v,pages:c,disabled:m,style:r,activeStyle:b,onClick:p}),h=(u,f={})=>u==="more"?d(ca,q(f,$),{default:t["page-item-ellipsis"]}):u==="previous"?d(fe,q({type:"previous"},f,$),{default:t["page-item-step"]}):u==="next"?d(fe,q({type:"next"},f,$),{default:t["page-item-step"]}):d(ra,q(f,$),{default:t["page-item"]}),P=g(()=>{const u=[];if(c.value<e.baseSize+e.bufferSize*2)for(let f=1;f<=c.value;f++)u.push(h("page",{key:f,pageNumber:f}));else{let f=1,S=c.value,k=!1,G=!1;v.value>2+e.bufferSize&&(k=!0,f=Math.min(v.value-e.bufferSize,c.value-2*e.bufferSize)),v.value<c.value-(e.bufferSize+1)&&(G=!0,S=Math.max(v.value+e.bufferSize,2*e.bufferSize+1)),k&&(u.push(h("page",{key:1,pageNumber:1})),u.push(h("more",{key:"left-ellipsis-pager",step:-(e.bufferSize*2+1)})));for(let D=f;D<=S;D++)u.push(h("page",{key:D,pageNumber:D}));G&&(u.push(h("more",{key:"right-ellipsis-pager",step:e.bufferSize*2+1})),u.push(h("page",{key:c.value,pageNumber:c.value})))}return u}),W=()=>e.simple?d("span",{class:`${l}-simple`},[h("previous",{simple:!0}),d(me,{disabled:e.disabled,current:v.value,size:y.value,pages:c.value,simple:!0,onChange:p},null),h("next",{simple:!0})]):d("ul",{class:`${l}-list`},[h("previous",{simple:!0}),P.value,e.showMore&&h("more",{key:"more",step:e.bufferSize*2+1}),h("next",{simple:!0})]);T(M,(u,f)=>{if(e.autoAdjust&&u!==f&&v.value>1){const S=f*(v.value-1)+1,k=Math.ceil(S/u);k!==v.value&&(F.value=k,a("update:current",k),a("change",k))}}),T(c,(u,f)=>{if(e.autoAdjust&&u!==f&&v.value>1&&v.value>u){const S=Math.max(u,1);F.value=S,a("update:current",S),a("change",S)}});const R=g(()=>[l,`${l}-size-${y.value}`,{[`${l}-simple`]:e.simple,[`${l}-disabled`]:e.disabled}]);return()=>{var u,f;return e.hideOnSinglePage&&c.value<=1?null:d("div",{class:R.value},[e.showTotal&&d("span",{class:`${l}-total`},[(f=(u=t.total)==null?void 0:u.call(t,{total:e.total}))!=null?f:s("pagination.total",e.total)]),W(),e.showPageSize&&d(ga,{disabled:e.disabled,sizeOptions:e.pageSizeOptions,pageSize:M.value,size:y.value,onChange:B,selectProps:e.pageSizeProps},null),!e.simple&&e.showJumper&&d(me,{disabled:e.disabled,current:v.value,pages:c.value,size:y.value,onChange:p},{"jumper-prepend":t["jumper-prepend"],"jumper-append":t["jumper-append"]})])}}});const $a=Object.assign(Z,{install:(e,a)=>{be(e,a);const t=he(a);e.component(t+Z.name,Z)}});export{na as I,$a as P,te as i};
